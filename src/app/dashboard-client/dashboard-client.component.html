<style>
  #rating{
    color: #3498db;
    font-size: 20px;
  }
</style>
<section id="contact" class="contact" style="margin-top: 100px;">
    <div class="container">

      <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
          <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Commande en attente</button>
          <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">Historique</button>
        </div>
      </nav>
      <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
          <table class="table table-striped table-hover" style="color: #3498db;">
            <tr>
            <th>Tech</th>
            <th>Tel</th>
            <th>Date</th>
            <th>Adresse</th> 
            <th>Actions</th>
            </tr>
            <ng-container *ngFor="let o of orders">
                <tr *ngIf="o.status == 'pending' && o.idClient == connected._id">
                    <td>Recherche d'un tech</td>
                    <td>--------</td>
                    <td>{{o.date}}</td>
                    <td>{{o.adress}}</td>
                    <td>
                        <button type="button" class="btn btn-outline-danger" (click)="deleteOrder(o._id)">Annuler</button>
                    </td>
                </tr>
            </ng-container>
            
            
          </table>
        </div>
      
        <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
            <table class="table table-striped table-hover" style="color:#3498db;">
                <tr>
                <th>Tech</th>
                <th>Tel</th>
                <th>Date</th>
                <th>Adress</th>
                <th>Prix</th>
                <th>Avi</th>
                </tr>
                <ng-container *ngFor="let o of orders">
                    <tr *ngIf="o.status == 'finished'&& o.idClient == connected._id">
                      <ng-container *ngFor="let t of techs" >
                             
                              
                        <td *ngIf="o.idTech == t._id">{{t.name}}</td>
                        <td *ngIf="o.idTech == t._id">{{t.tel}}</td>
                       </ng-container>
                      
                      <td>{{o.date}}</td>
                      <td>{{o.adress}}</td>
                      <td>{{o.price}}</td>
                      <td>
                          <div *ngIf="o.rating == 'unrated'" >
                            <button style="border: 0;background-color: white;" (click)="rate(o._id,o.idTech,'like')"><img src="assets/icons/like.png" alt="" style="height: 30px;"></button>
                            <button style="border: 0;background-color: white;" (click)="rate(o._id,o.idTech,'dislike')"><img src="assets/icons/dislike.png" alt="" style="height: 30px;"></button>
                          </div>
                          <div *ngIf="o.rating == 'like'">
                            <img src="assets/icons/happy.png" alt="" style="height: 30px;">
                          </div>
                          <div *ngIf="o.rating == 'dislike'">
                            <img src="assets/icons/angry.png" alt="" style="height: 30px;">
                          </div>
                      </td>
                  </tr>
                  </ng-container>
                
                
              </table>
        </div> 
      </div>
      



  </div>
  </section>
  